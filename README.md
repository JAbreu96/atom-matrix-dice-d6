# atom-matrix-dice-d6
An Arduino sketch which turns an Atom Matrix into a Space Invaders.
Just press the button to roll change to a different invader.

## Requirements
Hardware:

* [Atom Matrix ESP32 Development Kit](https://shop.m5stack.com/collections/m5-atom/products/atom-matrix-esp32-development-kit) (made by [M5Stack](https://m5stack.com))

Software:

* [Arduino IDE](https://www.arduino.cc/en/software)

Arduino libraries *(install these via the Library Manager in the Arduino IDE)*:

* [AdaFruit Neopixel](https://learn.adafruit.com/adafruit-neopixel-uberguide)
* [ArduinoUnit](https://github.com/mmurdoch/arduinounit)

Note: If this is the first time you are uploading an Arduino sketch to the Atom Matrix then you will
need to do some additional configuration. This includes installing drivers and setting up the board
info in the Arduino IDE. The following blog post explains how to do this on Windows:

* https://peter.bloomfield.online/how-to-program-atom-matrix-and-lite-with-the-arduino-ide-on-windows

## Instructions
1. Load the sketch file (`atom-matrix-dice-d6.ino`) into your Arduino IDE.
2. Connect your Atom Matrix to the computer via USB cable.
3. Select the appropriate COM port in the Arduino IDE.
4. Click the Upload button.

When the sketch has finished compiling and uploading, the dice should be ready to go. Press the
matrix button to roll the dice. Each time you press it, a new random dice roll will be shown.

If you want to completely clear the display, press the reset button on the side of the Atom Matrix.

## Randomness
The randomness of the invaders is generated by using the analog-to-digital converter on board the chip. It
takes an analog reading from a floating (disconnected) GPIO pin, divides it by 6, and adds 1 to the
remainder. This results in a somewhat random value between 1 and 6 (inclusive).

Unlike the normal random number generation functions in Arduino, it shouldn't be a predictable
pattern. However, it's also not truly random. It can be affected by various factors, such as nearby
electrical interference. Hopefully you're not planning to use this sketch for something important
like cryptography though.

## Testing

Sure, here's the rewritten text in markdown format:

## Unit Testing with ArduinoUnit

This project uses ArduinoUnit for unit testing, which is a great choice for testing Arduino code. 
The unit tests are located within the `space-invaders-test.h` file, which is a good practice to keep the tests separate from the main code.

To run the tests, follow these steps:

1. Enable the serial monitor within the IDE.
2. Ensure that the baud rate is set to 9600.
3. Upload the code to the Arduino.
4. Switch to the serial monitor tab to see the test results.

This is a good practice to ensure that the tests are passing and the code is working as expected.

## Using AdaFruit_NeoPixel for Testing

The author of this project found an alternative to M5 stack and is using AdaFruit_NeoPixel for testing purposes. 
Retrieving information about the pins that are active can be very useful for testing.

